# 配列上のインデックスとスライス

## NumPyでのインデックスとスライスについて
Numpy配列の要素には、リストと同じように要素は0から始まるインデックスを指定して、要素を取得できます。また、スライスも同様にリストと同じように要素を参照できます。

## Numpyのインデックス参照
まず初めにNumpyの一次元配列を作成してみましょう。

```python
import numpy as np#numpyをimportするこれ以降省略
arr = np.array([0,10,20,30,40,50,60])#配列を作成
print(arr)#配列を表示

print(arr[0])#0番目の要素を表示
print(arr[-1])#要素の最後を表示

arr[2] = 100#2番目の要素を100に変更
print(arr)
```

出力
```
[ 0 10 20 30 40 50 60]
20
60
[  0  10 100  30  40  50  60]
```

配列が一次元の場合は基本的な操作はリストと同様です。

次に配列が二次元の場合も見てみましょう。

```python
#二次元配列を作成
arr2 = np.array(
    [[0,10],
    [20,30]]
)
print(arr2)#二次元配列の表示

print(arr2[0])#配列の0行目を取得

print(arr2[0][1])#配列の0行目の1列目を取得

print(arr2[0,1])#配列の0行目の1列目を取得

arr2[0,1] = 40#配列の0行目の1列目を40に変更
print(arr2)
```

出力
```
[[ 0 10]
 [20 30]]
[ 0 10]
10
10
[[ 0 40]
 [20 30]]
```

このように配列の次元が二次元以上なら取得したい要素の行インデックスと列インデックスを指定します。また、行インデックスと列インデックスを一括で指定したい場合は[0,1]のようにカンマで区切って指定します。

## Numpyのスライス操作
NumPyのスライス操作も基本的にはリストと同様です。しかし、NumPy特有の動作もあるので比較しながら見ていきましょう。

まずは一次元配列でスライス操作をしてみます。

```python
arr = np.array([0,10,20,30,40,50])
print(arr)#作成した配列の表示
print(arr[:3])#配列の0番目から3番目の前までの要素を表示
print(arr[3:])#配列の3番目から最後までを表示
print(arr[2:5])#配列の2番目から5番目の前までの要素を表示
print(arr[::2])#配列の0番目から最後まで、2つ飛ばしで表示
print(arr[::-1])#配列の最後から先頭まで、1つ飛ばしで表示)
```

出力
```
[ 0 10 20 30 40 50]
[ 0 10 20]
[30 40 50]
[20 30 40]
[ 0 20 40]
[50 40 30 20 10  0]
```

ここで**NumPy特有**の機能を紹介します。配列のスライスを取得して、そこに対して値を代入すると、スライスされた配列内に**まとめて代入する**ことができます。

```python
arr = np.array([0,10,20,30,40,50])
print(arr)
print(arr[1:5])
arr[1:5] = 100#スライスで取得した配列の要素すべてに100を代入
print(arr)

```

出力
```
[ 0 10 20 30 40 50]
[10 20 30 40]
[  0 100 100 100 100  50]
```

もちろんこれをリストで行おうとするとエラーが出ます。

```python
lists = [0,10,20,30,40,50]
print(lists[1:5])
lists[1:5] = 100
```

**エラー例**
```
 1 lists = [0,10,20,30,40,50]
      2 print(lists[1:5])
----> 3 lists[1:5] = 100

TypeError: can only assign an iterable
```

このようにスライスした要素に値を代入することはNumPyで行うことができます。

次に二次元配列の場合を見てみましょう。

```python
#二次元配列を作成
arr2 = np.array(
    [[0,10,20,30],
    [40,50,60,70],
    [80,90,100,110]]
)
print(arr2)
print(arr2[:2,:2])#0番目から2番目の前までの行を取得して、0番目から2番目の前までの列を取得
print(arr2[::2,:-2])#0番目から最後まで2つ飛ばしで行を取得して、最後から２つ後ろ以降の列を取得
```

出力
```
[[  0  10  20  30]
 [ 40  50  60  70]
 [ 80  90 100 110]]
[[ 0 10]
 [40 50]]
[[ 0 10]
 [80 90]]
```

２つ目のスライスは少し難しく書いてるので、一つずつゆっくり追って理解しましょう！


